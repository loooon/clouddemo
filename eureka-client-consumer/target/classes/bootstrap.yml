spring:
  application:
    name: client-consumer

server:
  port: 8890

eureka:
  instance:
    prefer-ip-address: true
    instance-id: ${spring.cloud.client.ip-address}:${server.port}:${spring.application.name}

#  client:
#    serviceUrl: #注册中心的注册地址
#      defaultZone: http://127.0.0.1:8761/eureka/

#
#feign:
#  client:
#    config:
#      feignName:
#        connectTimeout: 5000
#        readTimeout: 5000
#        loggerLevel: full
#        errorDecoder: com.example.SimpleErrorDecoder
#        retryer: com.example.SimpleRetryer
#        requestInterceptors:
#          - com.example.FooRequestInterceptor
#          - com.example.BarRequestInterceptor
#        decode404: false
# support hystrix
feign:
  hystrix:
    enabled: true



#zuul:
#  ignoredServices: '*'
#  routes:
#    users: /testFeign/**

zuul:
  routes:
    echo:
      path: /testFeign/**
      serviceId: service-provider
      stripPrefix: true

hystrix:
  command:
    myusers-service:
      execution:
        isolation:
          thread:
            timeoutInMilliseconds: 1000

service-provider:
  ribbon:
    NIWSServerListClassName: com.netflix.loadbalancer.ConfigurationBasedServerList
#    ListOfServers: http://localhost:8761/service-provider/
    ConnectTimeout: 1000
    ReadTimeout: 3000
    MaxTotalHttpConnections: 500
    MaxConnectionsPerHost: 100